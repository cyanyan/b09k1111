<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lunar Practice</title>
<link rel="icon" href="assets/b.ico" type="image/x-icon">
<link rel="preload" href="assets/Adelphe-Trouble-GerminalRegular.otf" as="font" type="font/otf" crossorigin>
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/layout.css">
<style>
  html, body { 
    overflow-y: auto; 
    scrollbar-width: none; 
    margin: 0;
    padding: 0;
  }
  html::-webkit-scrollbar, body::-webkit-scrollbar { 
    width: 0; 
    height: 0; 
  }
  body {
    background: #ffffff;
    color: #000;
    font-family: var(--font);
    font-size: 13.3px;
    padding: 0;
  }
  
  .container {
    width: 560px;
    max-width: 90vw;
    margin: 18px auto 60px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    box-sizing: border-box;
  }
  
  .description {
    padding: 0 20px;
    width: 100%;
    text-align: center;
    box-sizing: border-box;
    line-height: 1.4;
  }

  .description p {
    margin: 0;
  }
  
  .year-nav {
    display: flex;
    gap: 15px;
    justify-content: center;
    width: 100%;
    box-sizing: border-box;
  }
  
  .year-item {
    padding: 8px 16px;
    font-family: var(--font);
    cursor: pointer;
    transition: opacity 0.3s ease;
  }
  
  .year-item:hover {
    opacity: 0.6;
  }
  
  .year-item.active {
    opacity: 1;
    font-weight: bold;
  }
  
  .image-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, calc(50% - 5px)));
    gap: 10px;
    width: 100%;
    justify-content: center;
    box-sizing: border-box;
  }
  
  .grid-item {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
    width: 100%;
  }
  
  .grid-item .image-link {
    position: relative;
    display: block;
    width: 100%;
    aspect-ratio: 28 / 18;
    box-sizing: border-box;
    overflow: hidden;
  }
  
  .grid-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    position: relative;
    transition: filter 0.6s ease;
    /* border: 1px solid #9d9d9d; */
  }
  
  .grid-item .image-link:hover img {
    filter: sepia(40%) hue-rotate(10deg) saturate(120%) brightness(1.1) invert(100%);
  }

  .grid-item .caption {
    font-family: var(--font);
    text-align: left;
    line-height: 1.4;
  }

  /* 独立访问时也有滑入动画 */
  body.standalone .container {
    animation: contentSlideInFromRight var(--dur) var(--ease) both;
  }

  @media (max-width: 768px) {
    body {
      font-size: 11px;
      padding: 0;
      background-attachment: fixed;
    }

    .container {
      width: min(560px, 80vw);
      margin: 10px auto 100px; /* 增加底部间距，避免被浏览器底部标签遮挡 */
      gap: 15px;
      box-sizing: border-box;
    }

    .description {
      padding: 0;
      width: 100%;
    }

    .year-nav {
      flex-wrap: wrap;
      gap: 10px;
      width: 100%;
    }

    .year-item {
      padding: 6px 12px;
    }

    .image-grid {
      grid-template-columns: repeat(2, minmax(0, calc(50% - 5px)));
      gap: 10px;
      width: 100%;
    }

    .grid-item {
      width: 100%;
    }

    .grid-item .image-link {
      width: 100%;
      aspect-ratio: 28 / 18;
    }

    .grid-item img {
      width: 100%;
      height: 100%;
      position: relative;
    }
  }
</style>
</head>
<body>

<!-- 检测是否独立打开 -->
<script>
if (window.top === window.self) {
  document.body.classList.add('standalone');
}
</script>

  <div class="container content-slide-in">
    <div class="description">
      <p>Imagine this is a moon land</p>
      <p>It follows the lunar calendar and every New moon</p>
      <p>an artistpoet or designer will come to this land</p>
      <p>Every day at sunset ( China UTC+8 ) this land will be lit up as the moon</p>
    </div>

    <div class="year-nav">
      <div class="year-item active" data-year="2025">2025</div>
      <div class="year-item" data-year="2024">2024</div>
      <div class="year-item" data-year="2023">2023</div>
    </div>

    <div class="image-grid" id="imageGrid"></div>
  </div>

  <script>
    const imageData = {
      2025: [
        { name: "Arthur Cordier", date: "18.10-18.11. 2025", pdfName: "LP25_01_Arthur Cordier.pdf" },
        { name: "Albert Allgaier", date: "18.10-18.11. 2025", pdfName: "LP25_02_Albert Allgaier.pdf" },
        { name: "Donghwan Kam", date: "18.10-18.11. 2025", pdfName: "LP25_03_Donghwan Kam.pdf" },
        { name: "lan Whittlesea", date: "18.10-18.11. 2025", pdfName: "LP25_04_lan Whittlesea.pdf" },
        { name: "Robin Waart", date: "18.10-18.11. 2025", pdfName: "LP25_05_Robin Waart.pdf" },
        { name: "June Lihua Yu", date: "18.10-18.11. 2025", pdfName: "LP25_06_June Lihua Yu.pdf" },
        { name: "Andrea Salerno", date: "18.10-18.11. 2025", pdfName: "LP25_07_Andrea Salerno.pdf" },
        { name: "Andrew Walsh-Lister", date: "18.10-18.11. 2025", pdfName: "LP25_08_Andrew_Walsh-Lister .pdf" },
        { name: "Matthew Stuart", date: "18.10-18.11. 2025", pdfName: "LP25_09_Matthew_Stuart.pdf" },
        { name: "manos.manos.manos.", date: "18.10-18.11. 2025", pdfName: "LP25_10_manos.manos.manos..pdf" },
        { name: "aaabbb.", date: "18.10-18.11. 2025", pdfName: "LP25_11_aaabbb..pdf" },
        { name: "cccbbb.", date: "18.10-18.11. 2025", pdfName: "LP25_12_cccbbb..pdf" }
      ],
      2024: [
        { name: "Artist 2024-1", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-2", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-3", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-4", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-5", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-6", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-7", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-8", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-9", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-10", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-11", date: "18.10-18.11. 2024" },
        { name: "Artist 2024-12", date: "18.10-18.11. 2024" }
      ],
      2023: [
        { name: "Artist 2023-1", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-2", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-3", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-4", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-5", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-6", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-7", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-8", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-9", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-10", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-11", date: "18.10-18.11. 2023" },
        { name: "Artist 2023-12", date: "18.10-18.11. 2023" }
      ]
    };

    let currentYear = 2025;
    const imageGrid = document.getElementById('imageGrid');
    const yearItems = document.querySelectorAll('.year-item');

    function renderImages(year) {
      imageGrid.innerHTML = '';
      const images = imageData[year];

      images.forEach((item, index) => {
        const gridItem = document.createElement('div');
        gridItem.className = 'grid-item';

        let imagePath, pdfPath;
        
        if (year === 2025) {
          // 2025年使用新命名规则：LP25_01.png 到 LP25_12.png
          const imageNumber = String(index + 1).padStart(2, '0');
          imagePath = `assets/lunar/${year}/LP25_${imageNumber}.png`;
          // PDF 使用 imageData 中定义的 pdfName
          pdfPath = `assets/lunar/${year}/${item.pdfName || `LP25_${imageNumber}.pdf`}`;
        } else {
          // 其他年份保持原有规则
          const imageNumber = index + 1;
          imagePath = `assets/lunar/${year}/${imageNumber}.png`;
          pdfPath = `assets/lunar/${year}/${imageNumber}.pdf`;
        }

        gridItem.innerHTML = `
          <a href="${pdfPath}" class="image-link" target="_blank">
            <img src="${imagePath}" alt="${item.name}" loading="lazy">
          </a>
          <div class="caption">${item.name}, ${item.date}</div>
        `;

        imageGrid.appendChild(gridItem);
      });
    }

    renderImages(currentYear);

    yearItems.forEach(item => {
      item.addEventListener('click', () => {
        const year = parseInt(item.dataset.year);
        yearItems.forEach(y => y.classList.remove('active'));
        item.classList.add('active');
        currentYear = year;
        renderImages(currentYear);
      });
    });
  </script>
</body>
</html>
