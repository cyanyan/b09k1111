<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>About</title>
  <link rel="icon" href="assets/b.ico" type="image/x-icon" />

  <!-- 继承网站主字体 -->
  <link rel="preload" href="assets/Adelphe-Trouble-GerminalRegular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" href="css/base.css" />
  <link rel="stylesheet" href="css/layout.css" />

  <style>
    /* -------- 页面结构 -------- */
    html {
      background: #fff;
      overflow-x: hidden;
    }
    body {
      margin: 0;
      background: #fff;
      color: #000;
      font-family: 'AdelpheTrouble', var(--font);
      font-size: 13.3px;
      line-height: 19px;
      -webkit-text-size-adjust: 100%;
      overflow-x: hidden;
    }

    .about-wrapper {
      width: 100%;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding-top: 10px;
    }

    /* -------- 文本容器 -------- */
    .about-content {
      width: 560px;
      text-align: left;
      white-space: pre-line; 
    }

    .about-content p {
      margin: 0 0 16px 0;
    }

    .about-content a {
      color: #000;
      text-decoration: underline;
    }

    .about-content a:hover {
      opacity: 0.7;
    }

    /* -------- 手机端 -------- */
    @media (max-width: 768px) {
      body {
        background-attachment: fixed;
      }
      .about-wrapper {
        padding: 0px 0 150px 0; 
        justify-content: center;
      }
      .about-content {
        width: min(460px, calc(100vw - var(--sidebar-width-mobile) - 40px));
        margin-left: calc((100vw - var(--sidebar-width-mobile) - min(460px, calc(100vw - var(--sidebar-width-mobile) - 40px))) / 1.8);
        margin-right: auto;
        font-size: 12px;
        line-height: 17px;
      }
    }
    
    body.standalone .about-wrapper {
      animation: contentSlideInFromRight var(--dur) var(--ease) both;
    }
  </style>
</head>

<body>

<script>
if (window.top === window.self) {
  document.body.classList.add('standalone');
}
</script>
  <div class="about-wrapper content-slide-in">
    <div class="about-content" id="aboutContent"></div>
  </div>

  <script>
    function convertEmailToLink(text) {
      const emailRegex = /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/g;
      return text.replace(emailRegex, '<a href="mailto:$1">$1</a>');
    }

    fetch('assets/about.txt')
      .then(r => r.text())
      .then(txt => {
        const lines = txt.split(/\r?\n/);
        const container = document.getElementById('aboutContent');
        let currentParagraph = [];
        
        lines.forEach((line, index) => {
          if (line.trim() === '') {
            if (currentParagraph.length > 0) {
              const p = document.createElement('p');
              const paragraphText = currentParagraph.join('\n');
              p.innerHTML = convertEmailToLink(paragraphText);
              container.appendChild(p);
              currentParagraph = [];
            }
    
            const emptyP = document.createElement('p');
            emptyP.textContent = '';
            container.appendChild(emptyP);
          } else {
            currentParagraph.push(line);
          }
        });
        
        if (currentParagraph.length > 0) {
          const p = document.createElement('p');
          const paragraphText = currentParagraph.join('\n');
          p.innerHTML = convertEmailToLink(paragraphText);
          container.appendChild(p);
        }
      })
      .catch(() => {
        const container = document.getElementById('aboutContent');
        const p = document.createElement('p');
        p.textContent = 'Failed to load content.';
        container.appendChild(p);
      });
  </script>
</body>
</html>
